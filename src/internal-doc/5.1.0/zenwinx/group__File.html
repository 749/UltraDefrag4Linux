<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>zenwinx: File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">zenwinx
   &#160;<span id="projectnumber">5.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__File.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">File</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga35f0f06ada3ef705677f81d9b914622c"><td class="memItemLeft" align="right" valign="top">WINX_FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#ga35f0f06ada3ef705677f81d9b914622c">winx_fopen</a> (const char *filename, const char *mode)</td></tr>
<tr class="memdesc:ga35f0f06ada3ef705677f81d9b914622c"><td class="mdescLeft">&#160;</td><td class="mdescRight">fopen() native equivalent.  <a href="#ga35f0f06ada3ef705677f81d9b914622c"></a><br/></td></tr>
<tr class="separator:ga35f0f06ada3ef705677f81d9b914622c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga162266b928e688022c04fd62a934cd93"><td class="memItemLeft" align="right" valign="top">WINX_FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#ga162266b928e688022c04fd62a934cd93">winx_fbopen</a> (const char *filename, const char *mode, int buffer_size)</td></tr>
<tr class="memdesc:ga162266b928e688022c04fd62a934cd93"><td class="mdescLeft">&#160;</td><td class="mdescRight">winx_fopen analog, but allocates a buffer to speedup sequential write requests.  <a href="#ga162266b928e688022c04fd62a934cd93"></a><br/></td></tr>
<tr class="separator:ga162266b928e688022c04fd62a934cd93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69454540809ea904e9a8a70e57f619d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga69454540809ea904e9a8a70e57f619d8"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#ga69454540809ea904e9a8a70e57f619d8">winx_fread</a> (void *buffer, size_t size, size_t count, WINX_FILE *f)</td></tr>
<tr class="memdesc:ga69454540809ea904e9a8a70e57f619d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">fread() native equivalent. <br/></td></tr>
<tr class="separator:ga69454540809ea904e9a8a70e57f619d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe1b9c7386b55ef6219b9972231336b0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gabe1b9c7386b55ef6219b9972231336b0"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#gabe1b9c7386b55ef6219b9972231336b0">winx_fwrite</a> (const void *buffer, size_t size, size_t count, WINX_FILE *f)</td></tr>
<tr class="memdesc:gabe1b9c7386b55ef6219b9972231336b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">fwrite() native equivalent. <br/></td></tr>
<tr class="separator:gabe1b9c7386b55ef6219b9972231336b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadfab81b316fcb3fc466ae2086d5b9c88"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#gadfab81b316fcb3fc466ae2086d5b9c88">winx_ioctl</a> (WINX_FILE *f, int code, char *description, void *in_buffer, int in_size, void *out_buffer, int out_size, int *pbytes_returned)</td></tr>
<tr class="memdesc:gadfab81b316fcb3fc466ae2086d5b9c88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an I/O control code to the specified device.  <a href="#gadfab81b316fcb3fc466ae2086d5b9c88"></a><br/></td></tr>
<tr class="separator:gadfab81b316fcb3fc466ae2086d5b9c88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga648224859a0c009f56326b384719c132"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#ga648224859a0c009f56326b384719c132">winx_fflush</a> (WINX_FILE *f)</td></tr>
<tr class="memdesc:ga648224859a0c009f56326b384719c132"><td class="mdescLeft">&#160;</td><td class="mdescRight">fflush() native equivalent.  <a href="#ga648224859a0c009f56326b384719c132"></a><br/></td></tr>
<tr class="separator:ga648224859a0c009f56326b384719c132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga452eb998a988556d0a8566c9ff9f6ec9"><td class="memItemLeft" align="right" valign="top">ULONGLONG&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#ga452eb998a988556d0a8566c9ff9f6ec9">winx_fsize</a> (WINX_FILE *f)</td></tr>
<tr class="memdesc:ga452eb998a988556d0a8566c9ff9f6ec9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the size of the file.  <a href="#ga452eb998a988556d0a8566c9ff9f6ec9"></a><br/></td></tr>
<tr class="separator:ga452eb998a988556d0a8566c9ff9f6ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd25487cd667e884eed5dfdd95a90406"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafd25487cd667e884eed5dfdd95a90406"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#gafd25487cd667e884eed5dfdd95a90406">winx_fclose</a> (WINX_FILE *f)</td></tr>
<tr class="memdesc:gafd25487cd667e884eed5dfdd95a90406"><td class="mdescLeft">&#160;</td><td class="mdescRight">fclose() native equivalent. <br/></td></tr>
<tr class="separator:gafd25487cd667e884eed5dfdd95a90406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09385497b6796c92468a10b00468adf9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#ga09385497b6796c92468a10b00468adf9">winx_create_directory</a> (const char *path)</td></tr>
<tr class="memdesc:ga09385497b6796c92468a10b00468adf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a directory.  <a href="#ga09385497b6796c92468a10b00468adf9"></a><br/></td></tr>
<tr class="separator:ga09385497b6796c92468a10b00468adf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga917f8375bb2bb2a8beddd0c02b52d279"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#ga917f8375bb2bb2a8beddd0c02b52d279">winx_delete_file</a> (const char *filename)</td></tr>
<tr class="memdesc:ga917f8375bb2bb2a8beddd0c02b52d279"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a file.  <a href="#ga917f8375bb2bb2a8beddd0c02b52d279"></a><br/></td></tr>
<tr class="separator:ga917f8375bb2bb2a8beddd0c02b52d279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca2dcebd12ad1438b7652748115a38b3"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#gaca2dcebd12ad1438b7652748115a38b3">winx_get_file_contents</a> (const char *filename, size_t *bytes_read)</td></tr>
<tr class="memdesc:gaca2dcebd12ad1438b7652748115a38b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads file entirely and returns pointer to data read.  <a href="#gaca2dcebd12ad1438b7652748115a38b3"></a><br/></td></tr>
<tr class="separator:gaca2dcebd12ad1438b7652748115a38b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32a014f19d7d85bd38ec03287726201d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga32a014f19d7d85bd38ec03287726201d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#ga32a014f19d7d85bd38ec03287726201d">winx_release_file_contents</a> (void *contents)</td></tr>
<tr class="memdesc:ga32a014f19d7d85bd38ec03287726201d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases memory allocated by <a class="el" href="group__File.html#gaca2dcebd12ad1438b7652748115a38b3" title="Reads file entirely and returns pointer to data read.">winx_get_file_contents()</a>. <br/></td></tr>
<tr class="separator:ga32a014f19d7d85bd38ec03287726201d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf102621e43f282c281c17b4b9c9c776e"><td class="memItemLeft" align="right" valign="top">NTSTATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#gaf102621e43f282c281c17b4b9c9c776e">winx_defrag_fopen</a> (winx_file_info *f, int action, HANDLE *phandle)</td></tr>
<tr class="memdesc:gaf102621e43f282c281c17b4b9c9c776e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the file for defragmentation related actions.  <a href="#gaf102621e43f282c281c17b4b9c9c776e"></a><br/></td></tr>
<tr class="separator:gaf102621e43f282c281c17b4b9c9c776e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34cb1fbf82fa7f7c5114e2f3e0408802"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga34cb1fbf82fa7f7c5114e2f3e0408802"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#ga34cb1fbf82fa7f7c5114e2f3e0408802">winx_defrag_fclose</a> (HANDLE h)</td></tr>
<tr class="memdesc:ga34cb1fbf82fa7f7c5114e2f3e0408802"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes a file opened by winx_defrag_fopen. <br/></td></tr>
<tr class="separator:ga34cb1fbf82fa7f7c5114e2f3e0408802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1bae081ecf07c0bef6f16e059d98c30"><td class="memItemLeft" align="right" valign="top">winx_file_info *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#gac1bae081ecf07c0bef6f16e059d98c30">ntfs_scan_disk</a> (char volume_letter, int flags, ftw_filter_callback fcb, ftw_progress_callback pcb, ftw_terminator t, void *user_defined_data)</td></tr>
<tr class="memdesc:gac1bae081ecf07c0bef6f16e059d98c30"><td class="mdescLeft">&#160;</td><td class="mdescRight">winx_scan_disk analog, but optimized for fastest NTFS scan.  <a href="#gac1bae081ecf07c0bef6f16e059d98c30"></a><br/></td></tr>
<tr class="separator:gac1bae081ecf07c0bef6f16e059d98c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6ae1dc266909784155467ce72df8646"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#gaf6ae1dc266909784155467ce72df8646">validate_blockmap</a> (winx_file_info *f)</td></tr>
<tr class="memdesc:gaf6ae1dc266909784155467ce72df8646"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates map of file blocks, destroys it in case of errors found.  <a href="#gaf6ae1dc266909784155467ce72df8646"></a><br/></td></tr>
<tr class="separator:gaf6ae1dc266909784155467ce72df8646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05c7c85e75d32f4d154adc66b6ff9de9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#ga05c7c85e75d32f4d154adc66b6ff9de9">winx_ftw_dump_file</a> (winx_file_info *f, ftw_terminator t, void *user_defined_data)</td></tr>
<tr class="memdesc:ga05c7c85e75d32f4d154adc66b6ff9de9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves information about the file disposition.  <a href="#ga05c7c85e75d32f4d154adc66b6ff9de9"></a><br/></td></tr>
<tr class="separator:ga05c7c85e75d32f4d154adc66b6ff9de9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga89e13caa5d2a093a5a230785697f23b7"><td class="memItemLeft" align="right" valign="top">winx_file_info *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#ga89e13caa5d2a093a5a230785697f23b7">winx_ftw</a> (short *path, int flags, ftw_filter_callback fcb, ftw_progress_callback pcb, ftw_terminator t, void *user_defined_data)</td></tr>
<tr class="memdesc:ga89e13caa5d2a093a5a230785697f23b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns list of files contained in directory, and all its subdirectories if WINX_FTW_RECURSIVE flag is passed.  <a href="#ga89e13caa5d2a093a5a230785697f23b7"></a><br/></td></tr>
<tr class="separator:ga89e13caa5d2a093a5a230785697f23b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8489d9cd06c17452cd23fddc41f3b54e"><td class="memItemLeft" align="right" valign="top">winx_file_info *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#ga8489d9cd06c17452cd23fddc41f3b54e">winx_scan_disk</a> (char volume_letter, int flags, ftw_filter_callback fcb, ftw_progress_callback pcb, ftw_terminator t, void *user_defined_data)</td></tr>
<tr class="memdesc:ga8489d9cd06c17452cd23fddc41f3b54e"><td class="mdescLeft">&#160;</td><td class="mdescRight">winx_ftw analog, but optimized for the entire disk scan.  <a href="#ga8489d9cd06c17452cd23fddc41f3b54e"></a><br/></td></tr>
<tr class="separator:ga8489d9cd06c17452cd23fddc41f3b54e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5ae55936002e0a9c81e65f35a19082c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#gaa5ae55936002e0a9c81e65f35a19082c">winx_ftw_release</a> (winx_file_info *filelist)</td></tr>
<tr class="memdesc:gaa5ae55936002e0a9c81e65f35a19082c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases resources allocated by winx_ftw or winx_scan_disk.  <a href="#gaa5ae55936002e0a9c81e65f35a19082c"></a><br/></td></tr>
<tr class="separator:gaa5ae55936002e0a9c81e65f35a19082c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gada1121c45716ad8dd8f8fdd0a5b6b679"><td class="memItemLeft" align="right" valign="top">struct names_pair&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__File.html#gada1121c45716ad8dd8f8fdd0a5b6b679">special_file_names</a> []</td></tr>
<tr class="memdesc:gada1121c45716ad8dd8f8fdd0a5b6b679"><td class="mdescLeft">&#160;</td><td class="mdescRight">Auxiliary table helping to replace file name by name accepted by Windows in case of special NTFS files.  <a href="#gada1121c45716ad8dd8f8fdd0a5b6b679"></a><br/></td></tr>
<tr class="separator:gada1121c45716ad8dd8f8fdd0a5b6b679"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga35f0f06ada3ef705677f81d9b914622c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WINX_FILE* winx_fopen </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>fopen() native equivalent. </p>
<dl class="section note"><dt>Note</dt><dd>Only r, w, a, r+, w+, a+ modes are supported. </dd></dl>

<p>Definition at line <a class="el" href="file_8c_source.html#l00033">33</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>Referenced by <a class="el" href="misc_8c_source.html#l00353">MarkWindowsBootAsSuccessful()</a>, <a class="el" href="file_8c_source.html#l00116">winx_fbopen()</a>, <a class="el" href="file_8c_source.html#l00467">winx_get_file_contents()</a>, <a class="el" href="volume_8c_source.html#l00679">winx_vflush()</a>, and <a class="el" href="volume_8c_source.html#l00365">winx_vopen()</a>.</p>

</div>
</div>
<a class="anchor" id="ga162266b928e688022c04fd62a934cd93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WINX_FILE* winx_fbopen </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>winx_fopen analog, but allocates a buffer to speedup sequential write requests. </p>
<p>The last parameter specifies the buffer size, in bytes. Returns NULL if buffer allocation failed. </p>

<p>Definition at line <a class="el" href="file_8c_source.html#l00116">116</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="file_8c_source.html#l00363">winx_fclose()</a>, and <a class="el" href="file_8c_source.html#l00033">winx_fopen()</a>.</p>

</div>
</div>
<a class="anchor" id="gadfab81b316fcb3fc466ae2086d5b9c88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int winx_ioctl </td>
          <td>(</td>
          <td class="paramtype">WINX_FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>description</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>in_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>out_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>out_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pbytes_returned</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends an I/O control code to the specified device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>the file handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>the IOCTL code. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">description</td><td>the string explaining the meaning of the request, used by error handling code. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_buffer</td><td>the input buffer pointer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_size</td><td>the input buffer size, in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_buffer</td><td>the output buffer pointer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_size</td><td>the output buffer size, in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pbytes_returned</td><td>pointer to the variable receiving the number of bytes written to the output buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero for success, negative value otherwise. </dd></dl>

<p>Definition at line <a class="el" href="file_8c_source.html#l00279">279</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga648224859a0c009f56326b384719c132"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int winx_fflush </td>
          <td>(</td>
          <td class="paramtype">WINX_FILE *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>fflush() native equivalent. </p>
<dl class="section return"><dt>Returns</dt><dd>Zero for success, negative value otherwise. </dd></dl>

<p>Definition at line <a class="el" href="file_8c_source.html#l00320">320</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>Referenced by <a class="el" href="volume_8c_source.html#l00679">winx_vflush()</a>.</p>

</div>
</div>
<a class="anchor" id="ga452eb998a988556d0a8566c9ff9f6ec9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ULONGLONG winx_fsize </td>
          <td>(</td>
          <td class="paramtype">WINX_FILE *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the size of the file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>pointer to structure returned by <a class="el" href="group__File.html#ga35f0f06ada3ef705677f81d9b914622c" title="fopen() native equivalent.">winx_fopen()</a> call. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The size of the file, in bytes. </dd></dl>

<p>Definition at line <a class="el" href="file_8c_source.html#l00341">341</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>Referenced by <a class="el" href="file_8c_source.html#l00467">winx_get_file_contents()</a>.</p>

</div>
</div>
<a class="anchor" id="ga09385497b6796c92468a10b00468adf9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int winx_create_directory </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>the native path to the directory. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero for success, negative value otherwise. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>If the requested directory already exists this function completes successfully. </dd></dl>

<p>Definition at line <a class="el" href="file_8c_source.html#l00386">386</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>Referenced by <a class="el" href="path_8c_source.html#l00170">winx_create_path()</a>.</p>

</div>
</div>
<a class="anchor" id="ga917f8375bb2bb2a8beddd0c02b52d279"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int winx_delete_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>the native path to the file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero for success, negative value otherwise. </dd></dl>

<p>Definition at line <a class="el" href="file_8c_source.html#l00432">432</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaca2dcebd12ad1438b7652748115a38b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* winx_get_file_contents </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>bytes_read</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads file entirely and returns pointer to data read. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>the native path to the file. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bytes_read</td><td>number of bytes read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to data, NULL indicates failure. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Returned buffer is two bytes larger than the file contents. This allows to add terminal zero easily. </dd></dl>

<p>Definition at line <a class="el" href="file_8c_source.html#l00467">467</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="file_8c_source.html#l00363">winx_fclose()</a>, <a class="el" href="file_8c_source.html#l00033">winx_fopen()</a>, <a class="el" href="file_8c_source.html#l00143">winx_fread()</a>, <a class="el" href="file_8c_source.html#l00341">winx_fsize()</a>, <a class="el" href="mem_8c_source.html#l00081">winx_heap_free()</a>, and <a class="el" href="stdio_8c_source.html#l00113">winx_printf()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf102621e43f282c281c17b4b9c9c776e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NTSTATUS winx_defrag_fopen </td>
          <td>(</td>
          <td class="paramtype">winx_file_info *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HANDLE *&#160;</td>
          <td class="paramname"><em>phandle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens the file for defragmentation related actions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>pointer to structure containing the file information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">action</td><td>one of the WINX_OPEN_XXX constants indicating an action file needs to be opened for:<ul>
<li>WINX_OPEN_FOR_DUMP - open for FSCTL_GET_RETRIEVAL_POINTERS</li>
<li>WINX_OPEN_FOR_BASIC_INFO - open for NtQueryInformationFile(FILE_BASIC_INFORMATION)</li>
<li>WINX_OPEN_FOR_MOVE - open for FSCTL_MOVE_FILE </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">phandle</td><td>pointer to variable receiving file handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NTSTATUS code. </dd></dl>

<p>Definition at line <a class="el" href="file_8c_source.html#l00568">568</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p>References <a class="el" href="misc_8c_source.html#l00065">winx_get_os_version()</a>, and <a class="el" href="string_8c_source.html#l00211">winx_wcsistr()</a>.</p>

<p>Referenced by <a class="el" href="ftw_8c_source.html#l00132">winx_ftw_dump_file()</a>.</p>

</div>
</div>
<a class="anchor" id="gac1bae081ecf07c0bef6f16e059d98c30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">winx_file_info * ntfs_scan_disk </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>volume_letter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ftw_filter_callback&#160;</td>
          <td class="paramname"><em>fcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ftw_progress_callback&#160;</td>
          <td class="paramname"><em>pcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ftw_terminator&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_defined_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>winx_scan_disk analog, but optimized for fastest NTFS scan. </p>
<dl class="section note"><dt>Note</dt><dd>When stop request is sent by the caller, file paths cannot be built, because of missing information about directories not scanned yet. </dd></dl>

<p>Definition at line <a class="el" href="ftw__ntfs_8c_source.html#l01791">1791</a> of file <a class="el" href="ftw__ntfs_8c_source.html">ftw_ntfs.c</a>.</p>

<p>References <a class="el" href="ftw_8c_source.html#l00885">winx_ftw_release()</a>.</p>

<p>Referenced by <a class="el" href="ftw_8c_source.html#l00815">winx_scan_disk()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf6ae1dc266909784155467ce72df8646"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void validate_blockmap </td>
          <td>(</td>
          <td class="paramtype">winx_file_info *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validates map of file blocks, destroys it in case of errors found. </p>

<p>Definition at line <a class="el" href="ftw_8c_source.html#l00076">76</a> of file <a class="el" href="ftw_8c_source.html">ftw.c</a>.</p>

<p>References <a class="el" href="list_8c_source.html#l00115">winx_list_destroy()</a>.</p>

<p>Referenced by <a class="el" href="ftw_8c_source.html#l00132">winx_ftw_dump_file()</a>.</p>

</div>
</div>
<a class="anchor" id="ga05c7c85e75d32f4d154adc66b6ff9de9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int winx_ftw_dump_file </td>
          <td>(</td>
          <td class="paramtype">winx_file_info *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ftw_terminator&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_defined_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves information about the file disposition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">f</td><td>pointer to structure receiving the information. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>address of procedure to be called each time when winx_ftw_dump_file would like to know whether it must be terminated or not. Nonzero value, returned by terminator, forces file dump to be terminated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_defined_data</td><td>pointer to data passed to the registered terminator. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero for success, negative value otherwise. </dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Callback procedure should complete as quickly as possible to avoid slowdown of the scan.</li>
<li>For resident NTFS streams (small files and directories located inside MFT) this function resets all the file disposition structure fields to zero. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="ftw_8c_source.html#l00132">132</a> of file <a class="el" href="ftw_8c_source.html">ftw.c</a>.</p>

<p>References <a class="el" href="ftw_8c_source.html#l00076">validate_blockmap()</a>, <a class="el" href="file_8c_source.html#l00690">winx_defrag_fclose()</a>, <a class="el" href="file_8c_source.html#l00568">winx_defrag_fopen()</a>, <a class="el" href="mem_8c_source.html#l00081">winx_heap_free()</a>, <a class="el" href="list_8c_source.html#l00115">winx_list_destroy()</a>, and <a class="el" href="list_8c_source.html#l00038">winx_list_insert_item()</a>.</p>

</div>
</div>
<a class="anchor" id="ga89e13caa5d2a093a5a230785697f23b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">winx_file_info* winx_ftw </td>
          <td>(</td>
          <td class="paramtype">short *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ftw_filter_callback&#160;</td>
          <td class="paramname"><em>fcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ftw_progress_callback&#160;</td>
          <td class="paramname"><em>pcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ftw_terminator&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_defined_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns list of files contained in directory, and all its subdirectories if WINX_FTW_RECURSIVE flag is passed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>the native path of the directory to be scanned. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>combination of WINX_FTW_xxx flags, defined in zenwinx.h </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fcb</td><td>address of callback routine to be called for each file; if it returns nonzero value, all file's children will be skipped. Zero value forces to continue subdirectory scan. Note that the filter callback is called when the complete information is gathered for the file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pcb</td><td>address of callback routine to be called for each file to update progress information specific for the caller. Note that the progress callback may be called when all the file information is gathered except of the file name and path. If WINX_FTW_SKIP_RESIDENT_STREAMS flag is set, the progress callback will never be called for files of zero length and resident NTFS streams. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>address of procedure to be called each time when winx_ftw would like to know whether it must be terminated or not. Nonzero value, returned by terminator, forces file tree walk to be terminated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_defined_data</td><td>pointer to data passed to all registered callbacks. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>List of files, NULL indicates failure. </dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Optimized for little directories scan.</li>
<li>To scan root directory, add trailing backslash to the path.</li>
<li>fcb parameter may be equal to NULL if no filtering is needed.</li>
<li>pcb parameter may be equal to NULL.</li>
<li>Callback procedures should complete as quickly as possible to avoid slowdown of the scan.</li>
<li>Does not recognize additional NTFS data streams.</li>
<li>For resident NTFS streams (small files and directories located inside MFT) this function resets all the file disposition structure fields to zero.</li>
<li>WINX_FTW_DUMP_FILES flag must be set to accept WINX_FTW_SKIP_RESIDENT_STREAMS.</li>
<li>Files with empty paths become excluded from the list, but may pass through the filter callback. </li>
</ul>
</dd></dl>
<dl class="section user"><dt>Example:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> filter(winx_file_info *f, <span class="keywordtype">void</span> *user_defined_data)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>(skip_directory(f))</div>
<div class="line">        <span class="keywordflow">return</span> 1;    <span class="comment">// skip contents of the current directory</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0; <span class="comment">// continue walk</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> update_progress(winx_file_info *f, <span class="keywordtype">void</span> *user_defined_data)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>(is_directory(f))</div>
<div class="line">        dir_count ++;</div>
<div class="line">    <span class="comment">// etc.</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> terminator(<span class="keywordtype">void</span> *user_defined_data)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>(stop_event)</div>
<div class="line">        <span class="keywordflow">return</span> 1; <span class="comment">// terminate walk</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;     <span class="comment">// continue walk</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// list all files on disk c:</span></div>
<div class="line">filelist = <a class="code" href="group__File.html#ga89e13caa5d2a093a5a230785697f23b7" title="Returns list of files contained in directory, and all its subdirectories if WINX_FTW_RECURSIVE flag i...">winx_ftw</a>(L<span class="stringliteral">&quot;\\??\\c:\\&quot;</span>,0,filter,update_progress,</div>
<div class="line">    terminator,&amp;user_defined_data);</div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"><span class="comment">// process list of files</span></div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"><a class="code" href="group__File.html#gaa5ae55936002e0a9c81e65f35a19082c" title="Releases resources allocated by winx_ftw or winx_scan_disk.">winx_ftw_release</a>(filelist);</div>
</div><!-- fragment --> </dd></dl>

<p>Definition at line <a class="el" href="ftw_8c_source.html#l00772">772</a> of file <a class="el" href="ftw_8c_source.html">ftw.c</a>.</p>

<p>References <a class="el" href="ftw_8c_source.html#l00885">winx_ftw_release()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8489d9cd06c17452cd23fddc41f3b54e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">winx_file_info* winx_scan_disk </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>volume_letter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ftw_filter_callback&#160;</td>
          <td class="paramname"><em>fcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ftw_progress_callback&#160;</td>
          <td class="paramname"><em>pcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ftw_terminator&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_defined_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>winx_ftw analog, but optimized for the entire disk scan. </p>
<dl class="section note"><dt>Note</dt><dd>NTFS is scanned directly through reading MFT records, because this highly (25 times) speeds up the scan. For FAT we have noticed no speedup (even slowdown) while trying to walk trough FAT entries. This is because Windows file cache makes access even faster. UDF has been never tested in direct mode because of its highly complicated standard. </dd></dl>

<p>Definition at line <a class="el" href="ftw_8c_source.html#l00815">815</a> of file <a class="el" href="ftw_8c_source.html">ftw.c</a>.</p>

<p>References <a class="el" href="ftw__ntfs_8c_source.html#l01791">ntfs_scan_disk()</a>, <a class="el" href="dbg_8c_source.html#l00417">winx_dbg_print_header()</a>, <a class="el" href="ftw_8c_source.html#l00885">winx_ftw_release()</a>, <a class="el" href="volume_8c_source.html#l00622">winx_get_volume_information()</a>, <a class="el" href="string_8c_source.html#l00068">winx_toupper()</a>, and <a class="el" href="time_8c_source.html#l00134">winx_xtime()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa5ae55936002e0a9c81e65f35a19082c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void winx_ftw_release </td>
          <td>(</td>
          <td class="paramtype">winx_file_info *&#160;</td>
          <td class="paramname"><em>filelist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases resources allocated by winx_ftw or winx_scan_disk. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filelist</td><td>pointer to list of files. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ftw_8c_source.html#l00885">885</a> of file <a class="el" href="ftw_8c_source.html">ftw.c</a>.</p>

<p>References <a class="el" href="mem_8c_source.html#l00081">winx_heap_free()</a>, and <a class="el" href="list_8c_source.html#l00115">winx_list_destroy()</a>.</p>

<p>Referenced by <a class="el" href="ftw__ntfs_8c_source.html#l01791">ntfs_scan_disk()</a>, <a class="el" href="ftw_8c_source.html#l00772">winx_ftw()</a>, and <a class="el" href="ftw_8c_source.html#l00815">winx_scan_disk()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="gada1121c45716ad8dd8f8fdd0a5b6b679"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct names_pair special_file_names[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    { L<span class="stringliteral">&quot;$Secure:$SDH&quot;</span>,                  L<span class="stringliteral">&quot;$Secure:$SDH:$INDEX_ALLOCATION&quot;</span> },</div>
<div class="line">    { L<span class="stringliteral">&quot;$Secure:$SII&quot;</span>,                  L<span class="stringliteral">&quot;$Secure:$SII:$INDEX_ALLOCATION&quot;</span> },</div>
<div class="line">    { L<span class="stringliteral">&quot;$Extend&quot;</span>,                       L<span class="stringliteral">&quot;$Extend:$I30:$INDEX_ALLOCATION&quot;</span> },</div>
<div class="line">    { L<span class="stringliteral">&quot;$Extend\\$Quota:$Q&quot;</span>,            L<span class="stringliteral">&quot;$Extend\\$Quota:$Q:$INDEX_ALLOCATION&quot;</span> },</div>
<div class="line">    { L<span class="stringliteral">&quot;$Extend\\$Quota:$O&quot;</span>,            L<span class="stringliteral">&quot;$Extend\\$Quota:$O:$INDEX_ALLOCATION&quot;</span> },</div>
<div class="line">    { L<span class="stringliteral">&quot;$Extend\\$ObjId:$O&quot;</span>,            L<span class="stringliteral">&quot;$Extend\\$ObjId:$O:$INDEX_ALLOCATION&quot;</span> },</div>
<div class="line">    { L<span class="stringliteral">&quot;$Extend\\$Reparse:$R&quot;</span>,          L<span class="stringliteral">&quot;$Extend\\$Reparse:$R:$INDEX_ALLOCATION&quot;</span> },</div>
<div class="line">    { L<span class="stringliteral">&quot;$Extend\\$RmMetadata&quot;</span>,          L<span class="stringliteral">&quot;$Extend\\$RmMetadata:$I30:$INDEX_ALLOCATION&quot;</span> },</div>
<div class="line">    { L<span class="stringliteral">&quot;$Extend\\$RmMetadata\\$Txf&quot;</span>,    L<span class="stringliteral">&quot;$Extend\\$RmMetadata\\$Txf:$I30:$INDEX_ALLOCATION&quot;</span> },</div>
<div class="line">    { L<span class="stringliteral">&quot;$Extend\\$RmMetadata\\$TxfLog&quot;</span>, L<span class="stringliteral">&quot;$Extend\\$RmMetadata\\$TxfLog:$I30:$INDEX_ALLOCATION&quot;</span> },</div>
<div class="line">    { NULL, NULL }</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Auxiliary table helping to replace file name by name accepted by Windows in case of special NTFS files. </p>

<p>Definition at line <a class="el" href="file_8c_source.html#l00543">543</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
